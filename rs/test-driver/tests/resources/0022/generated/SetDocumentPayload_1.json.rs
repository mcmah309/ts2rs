// This file is auto-generated by ts2rs. Do not edit manually.
// Source: /workspaces/ts2rs/rs/test-driver/tests/resources/0022/types.ts

use serde::{Deserialize, Serialize};
use std::collections::{HashMap};
use serde_json::Value;

/// A segment in the path from root to a text node.
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct PathSegment {
    /// Index of the child node at this level
    pub index: f64,
    /// Optional tag name for validation
    #[serde(rename = "tagName")]
    pub tag_name: Option<String>,
    /// Optional id for faster lookup
    pub id: Option<String>,
}

/// A serializable representation of a text position within the DOM.
/// Uses a path from a root element to locate text nodes.
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct TextPosition {
    /// Path segments from root to the text node (e.g., child indices or element identifiers)
    pub path: Vec<PathSegment>,
    /// Character offset within the text node
    pub offset: f64,
}

/// A serializable range that can be stored and reapplied later.
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SerializedRange {
    /// Start position of the range
    pub start: TextPosition,
    /// End position of the range
    pub end: TextPosition,
    /// The text content of the range (for validation)
    pub text: String,
}

/// Represents a single annotation/highlight.
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Annotation {
    pub id: String,
    /// The serialized range(s) this annotation covers
    pub ranges: Vec<SerializedRange>,
    /// Optional color for the highlight
    pub color: Option<String>,
    /// Timestamp when the annotation was created
    #[serde(rename = "createdAt")]
    pub created_at: f64,
    /// Timestamp when the annotation was last modified
    #[serde(rename = "updatedAt")]
    pub updated_at: f64,
    /// Optional extra data attached to this annotation.
/// Use this to store comments, notes, tags, or any other metadata.
    pub extra: Option<HashMap<String, Value>>,
}

/// A span within text content, represented as [start, end] character offsets
pub type TextSpan = (f64, f64);

#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SyncEntry {
    #[serde(rename = "dataId")]
    pub data_id: String,
    /// Span in the primary (first) element
    pub primary: TextSpan,
    /// Span in the secondary (second) element
    pub secondary: TextSpan,
}

/// Payload for setting a new document/chapter
#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct SetDocumentPayload {
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "headHtml")]
    pub head_html: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "primaryHtml")]
    pub primary_html: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "secondaryHtml")]
    pub secondary_html: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "primaryLangId")]
    pub primary_lang_id: Option<Value>,
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "secondaryLangId")]
    pub secondary_lang_id: Option<Value>,
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "primaryAnnotations")]
    pub primary_annotations: Option<Vec<Annotation>>,
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "secondaryAnnotations")]
    pub secondary_annotations: Option<Vec<Annotation>>,
    #[serde(skip_serializing_if = "Option::is_none")]
    #[serde(rename = "syncEntries")]
    pub sync_entries: Option<Vec<SyncEntry>>,
}
